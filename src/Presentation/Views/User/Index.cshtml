@model IEnumerable<Application.Users.Queries.GetUsersList.UsersListItemModel>

<p>
    @Html.ActionLink("Create New", "Create")
</p>

<table id="usersTable">
    <thead>
        <tr>
            <th>Username</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Is Active</th>
            <th>User roles</th>
        </tr>
    </thead>
</table>

<script>
    $(document).ready(function () {
        $('#usersTable').dataTable(
            {
                "data": @Html.Raw(Json.Encode(Model)),
                "columns": [
                    { "data": "Username" },
                    { "data": "FirstName" },
                    { "data": "LastName" },
                    { "data": "Email" },
                    { "data": "IsActive" },
                    {
                        "data": "UserRoles",
                        "render": function (data, type, row) {
                            return data.join(", ");

                        }
                    }
                ]
            }
        );
    });
</script>


